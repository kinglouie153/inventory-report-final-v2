{"ast":null,"code":"// src/pdfUtils.js\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\n\n/**\n * Generates the \"Counts Needed\" PDF in two columns.\n * - Fill order: top→bottom in left col, then top→bottom in right col\n * - Monochrome, font size 8\n * - Centered header: Title + Date + User\n * - Centered footer: Page numbers\n */\nexport function generateMissingCountsPDF(missing = [], currentUser = \"Unknown\") {\n  const doc = new jsPDF({\n    unit: \"mm\",\n    format: \"letter\",\n    orientation: \"portrait\"\n  });\n  const margin = {\n    top: 25,\n    right: 12,\n    bottom: 20,\n    left: 12\n  };\n  const pageWidth = doc.internal.pageSize.getWidth();\n  const pageHeight = doc.internal.pageSize.getHeight();\n  const usableW = pageWidth - margin.left - margin.right;\n  const colW = usableW / 4; // 4 table columns: SKU | Count | SKU | Count\n\n  // Build SKUs\n  const skus = (missing || []).map(e => e && e.sku != null ? String(e.sku) : \"\").filter(s => s !== \"\");\n  const half = Math.ceil(skus.length / 2);\n  const left = skus.slice(0, half);\n  const right = skus.slice(half);\n  const body = [];\n  for (let i = 0; i < half; i++) {\n    var _left$i, _right$i;\n    body.push([(_left$i = left[i]) !== null && _left$i !== void 0 ? _left$i : \"\", \"\", (_right$i = right[i]) !== null && _right$i !== void 0 ? _right$i : \"\", \"\"]);\n  }\n\n  // Date string\n  const dateStr = new Date().toLocaleDateString();\n  const totalPagesExp = \"{total_pages_count_string}\";\n  doc.autoTable({\n    head: [[\"SKU\", \"Count\", \"SKU\", \"Count\"]],\n    body,\n    startY: margin.top,\n    theme: \"grid\",\n    margin,\n    styles: {\n      halign: \"center\",\n      valign: \"middle\",\n      fontSize: 8,\n      lineWidth: 0.3,\n      cellPadding: 2,\n      textColor: [0, 0, 0]\n    },\n    headStyles: {\n      halign: \"center\",\n      valign: \"middle\",\n      fontSize: 8,\n      textColor: [0, 0, 0],\n      fillColor: [255, 255, 255],\n      lineWidth: 0.4\n    },\n    columnStyles: {\n      0: {\n        cellWidth: colW\n      },\n      1: {\n        cellWidth: colW\n      },\n      2: {\n        cellWidth: colW\n      },\n      3: {\n        cellWidth: colW\n      }\n    },\n    didDrawPage: data => {\n      // Header\n      doc.setFontSize(8);\n      doc.text(`Counts Needed – ${dateStr} – User: ${currentUser}`, pageWidth / 2, 12, {\n        align: \"center\"\n      });\n\n      // Footer\n      const pageStr = `Page ${data.pageNumber} of ${totalPagesExp}`;\n      doc.text(pageStr, pageWidth / 2, pageHeight - 8, {\n        align: \"center\"\n      });\n    }\n  });\n  doc.putTotalPages(totalPagesExp);\n  doc.save(`Counts_Needed_${Date.now()}.pdf`);\n}","map":{"version":3,"names":["jsPDF","generateMissingCountsPDF","missing","currentUser","doc","unit","format","orientation","margin","top","right","bottom","left","pageWidth","internal","pageSize","getWidth","pageHeight","getHeight","usableW","colW","skus","map","e","sku","String","filter","s","half","Math","ceil","length","slice","body","i","_left$i","_right$i","push","dateStr","Date","toLocaleDateString","totalPagesExp","autoTable","head","startY","theme","styles","halign","valign","fontSize","lineWidth","cellPadding","textColor","headStyles","fillColor","columnStyles","cellWidth","didDrawPage","data","setFontSize","text","align","pageStr","pageNumber","putTotalPages","save","now"],"sources":["/Users/louiemonteverde/Desktop/inventory-report-final-v3/src/pdfUtils.js"],"sourcesContent":["// src/pdfUtils.js\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\n\n/**\n * Generates the \"Counts Needed\" PDF in two columns.\n * - Fill order: top→bottom in left col, then top→bottom in right col\n * - Monochrome, font size 8\n * - Centered header: Title + Date + User\n * - Centered footer: Page numbers\n */\nexport function generateMissingCountsPDF(missing = [], currentUser = \"Unknown\") {\n  const doc = new jsPDF({ unit: \"mm\", format: \"letter\", orientation: \"portrait\" });\n\n  const margin = { top: 25, right: 12, bottom: 20, left: 12 };\n  const pageWidth = doc.internal.pageSize.getWidth();\n  const pageHeight = doc.internal.pageSize.getHeight();\n  const usableW = pageWidth - margin.left - margin.right;\n  const colW = usableW / 4; // 4 table columns: SKU | Count | SKU | Count\n\n  // Build SKUs\n  const skus = (missing || [])\n    .map((e) => (e && e.sku != null ? String(e.sku) : \"\"))\n    .filter((s) => s !== \"\");\n  const half = Math.ceil(skus.length / 2);\n  const left = skus.slice(0, half);\n  const right = skus.slice(half);\n\n  const body = [];\n  for (let i = 0; i < half; i++) {\n    body.push([left[i] ?? \"\", \"\", right[i] ?? \"\", \"\"]);\n  }\n\n  // Date string\n  const dateStr = new Date().toLocaleDateString();\n\n  const totalPagesExp = \"{total_pages_count_string}\";\n\n  doc.autoTable({\n    head: [[\"SKU\", \"Count\", \"SKU\", \"Count\"]],\n    body,\n    startY: margin.top,\n    theme: \"grid\",\n    margin,\n    styles: {\n      halign: \"center\",\n      valign: \"middle\",\n      fontSize: 8,\n      lineWidth: 0.3,\n      cellPadding: 2,\n      textColor: [0, 0, 0],\n    },\n    headStyles: {\n      halign: \"center\",\n      valign: \"middle\",\n      fontSize: 8,\n      textColor: [0, 0, 0],\n      fillColor: [255, 255, 255],\n      lineWidth: 0.4,\n    },\n    columnStyles: {\n      0: { cellWidth: colW },\n      1: { cellWidth: colW },\n      2: { cellWidth: colW },\n      3: { cellWidth: colW },\n    },\n    didDrawPage: (data) => {\n      // Header\n      doc.setFontSize(8);\n      doc.text(\n        `Counts Needed – ${dateStr} – User: ${currentUser}`,\n        pageWidth / 2,\n        12,\n        { align: \"center\" }\n      );\n\n      // Footer\n      const pageStr = `Page ${data.pageNumber} of ${totalPagesExp}`;\n      doc.text(pageStr, pageWidth / 2, pageHeight - 8, { align: \"center\" });\n    },\n  });\n\n  doc.putTotalPages(totalPagesExp);\n  doc.save(`Counts_Needed_${Date.now()}.pdf`);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}