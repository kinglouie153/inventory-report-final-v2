{"ast":null,"code":"// src/pdfUtils.js\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\n\n/**\n * Generates the \"Counts Needed\" PDF in two columns.\n * Fill order: top→bottom in left column, then top→bottom in right column.\n * - Monochrome (laser printer friendly)\n * - Font size 12\n * - Page number in header & footer\n * - \"Count\" cells are empty boxes (grid borders only)\n */\nexport function generateMissingCountsPDF(missing = []) {\n  const doc = new jsPDF({\n    unit: \"mm\",\n    format: \"letter\",\n    orientation: \"portrait\"\n  });\n\n  // Page + layout\n  const margin = {\n    top: 15,\n    right: 12,\n    bottom: 15,\n    left: 12\n  };\n  const pageWidth = doc.internal.pageSize.getWidth();\n  const pageHeight = doc.internal.pageSize.getHeight();\n  const usableW = pageWidth - margin.left - margin.right;\n  const colW = usableW / 4; // 4 table columns: SKU | Count | SKU | Count\n\n  // Build vertical-fill two-column body\n  const skus = (missing || []).map(e => e && e.sku != null ? String(e.sku) : \"\").filter(s => s !== \"\");\n  const half = Math.ceil(skus.length / 2);\n  const left = skus.slice(0, half);\n  const right = skus.slice(half);\n  const body = [];\n  for (let i = 0; i < half; i++) {\n    var _left$i, _right$i;\n    body.push([(_left$i = left[i]) !== null && _left$i !== void 0 ? _left$i : \"\", \"\", (_right$i = right[i]) !== null && _right$i !== void 0 ? _right$i : \"\", \"\"]);\n  }\n\n  // Total pages placeholder (so we can render \"Page X of Y\")\n  const totalPagesExp = \"{total_pages_count_string}\";\n  doc.autoTable({\n    head: [[\"SKU\", \"Count\", \"SKU\", \"Count\"]],\n    body,\n    startY: margin.top + 6,\n    // leave space for header page number\n    theme: \"grid\",\n    margin,\n    styles: {\n      halign: \"center\",\n      valign: \"middle\",\n      fontSize: 12,\n      lineWidth: 0.3,\n      cellPadding: 3,\n      textColor: [0, 0, 0] // monochrome\n    },\n    headStyles: {\n      halign: \"center\",\n      valign: \"middle\",\n      fontSize: 12,\n      textColor: [0, 0, 0],\n      fillColor: [255, 255, 255],\n      // remove gray header fill\n      lineWidth: 0.4\n    },\n    columnStyles: {\n      0: {\n        cellWidth: colW\n      },\n      1: {\n        cellWidth: colW\n      },\n      2: {\n        cellWidth: colW\n      },\n      3: {\n        cellWidth: colW\n      }\n    },\n    didDrawPage: data => {\n      // Page number at header & footer (centered)\n      const pageStr = `Page ${data.pageNumber} of ${totalPagesExp}`;\n      doc.setFontSize(10);\n      doc.text(pageStr, pageWidth / 2, 10, {\n        align: \"center\"\n      });\n      doc.text(pageStr, pageWidth / 2, pageHeight - 5, {\n        align: \"center\"\n      });\n    }\n  });\n\n  // Resolve total pages placeholder\n  doc.putTotalPages(totalPagesExp);\n  doc.save(`Counts_Needed_${Date.now()}.pdf`);\n}","map":{"version":3,"names":["jsPDF","generateMissingCountsPDF","missing","doc","unit","format","orientation","margin","top","right","bottom","left","pageWidth","internal","pageSize","getWidth","pageHeight","getHeight","usableW","colW","skus","map","e","sku","String","filter","s","half","Math","ceil","length","slice","body","i","_left$i","_right$i","push","totalPagesExp","autoTable","head","startY","theme","styles","halign","valign","fontSize","lineWidth","cellPadding","textColor","headStyles","fillColor","columnStyles","cellWidth","didDrawPage","data","pageStr","pageNumber","setFontSize","text","align","putTotalPages","save","Date","now"],"sources":["/Users/louiemonteverde/Desktop/inventory-report-final-v3/src/pdfUtils.js"],"sourcesContent":["// src/pdfUtils.js\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\n\n/**\n * Generates the \"Counts Needed\" PDF in two columns.\n * Fill order: top→bottom in left column, then top→bottom in right column.\n * - Monochrome (laser printer friendly)\n * - Font size 12\n * - Page number in header & footer\n * - \"Count\" cells are empty boxes (grid borders only)\n */\nexport function generateMissingCountsPDF(missing = []) {\n  const doc = new jsPDF({ unit: \"mm\", format: \"letter\", orientation: \"portrait\" });\n\n  // Page + layout\n  const margin = { top: 15, right: 12, bottom: 15, left: 12 };\n  const pageWidth = doc.internal.pageSize.getWidth();\n  const pageHeight = doc.internal.pageSize.getHeight();\n  const usableW = pageWidth - margin.left - margin.right;\n  const colW = usableW / 4; // 4 table columns: SKU | Count | SKU | Count\n\n  // Build vertical-fill two-column body\n  const skus = (missing || [])\n    .map((e) => (e && e.sku != null ? String(e.sku) : \"\"))\n    .filter((s) => s !== \"\");\n  const half = Math.ceil(skus.length / 2);\n  const left = skus.slice(0, half);\n  const right = skus.slice(half);\n\n  const body = [];\n  for (let i = 0; i < half; i++) {\n    body.push([left[i] ?? \"\", \"\", right[i] ?? \"\", \"\"]);\n  }\n\n  // Total pages placeholder (so we can render \"Page X of Y\")\n  const totalPagesExp = \"{total_pages_count_string}\";\n\n  doc.autoTable({\n    head: [[\"SKU\", \"Count\", \"SKU\", \"Count\"]],\n    body,\n    startY: margin.top + 6, // leave space for header page number\n    theme: \"grid\",\n    margin,\n    styles: {\n      halign: \"center\",\n      valign: \"middle\",\n      fontSize: 12,\n      lineWidth: 0.3,\n      cellPadding: 3,\n      textColor: [0, 0, 0], // monochrome\n    },\n    headStyles: {\n      halign: \"center\",\n      valign: \"middle\",\n      fontSize: 12,\n      textColor: [0, 0, 0],\n      fillColor: [255, 255, 255], // remove gray header fill\n      lineWidth: 0.4,\n    },\n    columnStyles: {\n      0: { cellWidth: colW },\n      1: { cellWidth: colW },\n      2: { cellWidth: colW },\n      3: { cellWidth: colW },\n    },\n    didDrawPage: (data) => {\n      // Page number at header & footer (centered)\n      const pageStr = `Page ${data.pageNumber} of ${totalPagesExp}`;\n      doc.setFontSize(10);\n      doc.text(pageStr, pageWidth / 2, 10, { align: \"center\" });\n      doc.text(pageStr, pageWidth / 2, pageHeight - 5, { align: \"center\" });\n    },\n  });\n\n  // Resolve total pages placeholder\n  doc.putTotalPages(totalPagesExp);\n\n  doc.save(`Counts_Needed_${Date.now()}.pdf`);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}